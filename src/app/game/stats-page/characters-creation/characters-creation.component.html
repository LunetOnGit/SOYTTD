<div class="title">Characters & Stats</div>
<div class="subtitle">Step 1/3</div>
<br>
<br>    
<div class="description">
  This might be the longest step depending of what you want to make, here you can add or remove any character, set their image (the bigger the image, the best it will be)
  and add their very own statistics!
  <br>
  For those wondering why are there stats, it was a way for me to make the scenarios "believable", or "semi-random". Feel free to make
  any character participate in the simulation, and choose their stats more or less accurately.
  <br>
  <br>
  The "Death Game" preset is with the 4 non-candidates, and Sara is kinder by the prensence of Joe, whereas Shin is the opposite
  <br>
  The "Simulation" preset is without the 4 non-candidates, Sara is more manipulative (less kind) and Shin is the cutest boy ever :3
</div>
<br>
<div class="presets-button">
  <button (click)="loadFirstPreset()" class="firstPreset">Preset #1<br>Death game</button>
  <button (click)="loadSecondPreset()" class="secondPreset">Preset #2<br>Simulation</button>
  <button (click)="resetAll()" class="reset-all">Reset All</button>
</div>
<div class="presets-button">
  <button class="save-button">Idk Button</button>
  <button (click)="fileInput.click()" class="save-button">Load Preset</button>
<input 
  type="file" 
  #fileInput 
  (change)="uploadData($event)" 
  accept=".json" 
  style="display: none;" 
/>
</div>


<div *ngFor="let name of names; let i = index; trackBy: trackByFn" class="character-container">
    <div class="image-container">
        <img [src]="images[i]" alt="{{ name }}" class="character-image">
    </div>
  <div class="nameAndButtons">
    <input type="file" (change)="onImageChange($event, i)" hidden #fileInput>
    <button (click)="fileInput.click()">Change Image</button>
    <input type="text" [(ngModel)]="names[i]" placeholder="Name" class="name-input">
    <button (click)="removeCharacter(i)">X</button>
    <div class="stats">
      <div class="stat" *ngFor="let stat of [{name: 'IQ', array: IQs}, {name: 'Strength', array: strengths}, {name: 'Kindness', array: kindnesses}, {name: 'Sociability', array: sociabilities}]; let j = index">
        <label>{{ stat.name }}</label>
        <input type="number" [(ngModel)]="stat.array[i]" min="0" max="10" (ngModelChange)="onStatChange()">
        <div class="stat-line" [ngStyle]="{'background-color': getStatColor(stat.array[i]), 'width': getStatWidth(stat.array[i]) + 'px'}"></div>
      </div>
    </div>
  </div>
</div>
<div class="add-char">
  <button (click)="addCharacter()" class="add-character">Add Character</button>
</div>